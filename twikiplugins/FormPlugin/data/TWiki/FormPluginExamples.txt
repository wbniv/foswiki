%META:TOPICINFO{author="BaseUserMapping_333" date="1181390096" format="1.1" reprev="1.2" version="1.2"}%

---+!! Form Plugin Examples
See [[FormPlugin]]

Please view the raw text of this topic to learn how these forms are created.

%TOC%

---++ Javascript enhancements
---+++ Focus

%STARTFORM{
name="focusform"
action="view"
}%
%FORMELEMENT{
name="Name"
type="text"
focus="on"
title="Enter your name:"
}%
%ENDFORM%

---+++ Default text before click
Click on the field...

%STARTFORM{
name="beforeclickform"
action="view"
}%
%FORMELEMENT{
name="Name"
type="text"
beforeclick="Your name..."
}%
%ENDFORM%

---+++ onMouseOver, onMouseOut
Mouse over the field...

<script type="text/javascript">
//<![CDATA[
function makeYellow(el) {
	el.style.backgroundColor = '#ffc';
}
function makeWhite(el) {
	el.style.backgroundColor = '#fff';
}
//]]>
</script>

%STARTFORM{
name="mouseoverform"
action="view"
}%
%FORMELEMENT{
name="Name"
type="text"
onMouseOver="makeYellow(this)"
onMouseOut="makeWhite(this)"
}%
%ENDFORM%

---+++ onSelect, onBlur
Doubleclick on the text to select it...

<script type="text/javascript">
//<![CDATA[
function makeBold(el) {
	el.style.fontWeight = 'bold';
}
function makePlain(el) {
	el.style.fontWeight = 'normal';
}
//]]>
</script>

%STARTFORM{
name="selectform"
action="view"
}%
%FORMELEMENT{
name="Name"
type="text"
default="Doubleclick this text"
onSelect="makeBold(this)"
onBlur="makePlain(this)"
}%
%ENDFORM%

---+++ onKeyUp
Change the text...

(in fact, =onChange= can be used as well, but that tends to react slower)

<script type="text/javascript">
//<![CDATA[
function giveFeedback(el) {
	var feedbackElement = document.getElementById('changeformFeedback');
	feedbackElement.innerHTML = el.value;
}
//]]>
</script>

<div id="changeformFeedback" class="twikiSmall">Change output will be written here...</div>

%STARTFORM{
name="changeform"
action="view"
}%
%FORMELEMENT{
name="Name"
type="text"
default="Change this text"
onKeyUp="giveFeedback(this)"
}%
%ENDFORM%

---+++ onClick
Click a checkbox...

<script type="text/javascript">
//<![CDATA[
function clickFeedback(el) {
	alert("checkbox: " + el.value + " clicked");
}
//]]>
</script>

%STARTFORM{
name="clickform"
action="view"
}%
%FORMELEMENT{
name="OnClickCheckboxes"
type="checkbox"
options="mary, peter, annabel, nicky, jennifer"
labels="Mary M, Peter P, Annabel A, Nicky N, Jennifer J"
fieldformat="$e <br />"
onClick="clickFeedback(this)"
}%
%ENDFORM%

---+++ onSubmit
Submit the form...

<script type="text/javascript">
//<![CDATA[
function notify(inForm) {
	return confirm("Do you really want to send this form?");
}
//]]>
</script>

%STARTFORM{
name="submitform"
action="view"
onSubmit="return notify(this)"
}%
%FORMELEMENT{
type="submit"
buttonlabel="Submit"
}%
%ENDFORM%


---++ Hints and mandatory indicators

%STARTFORM{
name="hintform"
action="view"
}%
%FORMELEMENT{
name="Name"
type="text"
title="Enter your name:"
mandatory="on"
hint="Or just anything"
}%
%FORMELEMENT{
name="Anything"
type="text"
title="Enter something else:"
mandatory="on"
}%
%FORMELEMENT{
type="submit"
buttonlabel="Submit"
}%
%ENDFORM%



---++ Adding styles

Setting:
<verbatim>
formcssclass="twikiFormSteps"
elementcssclass="twikiFormStep"
</verbatim>

%STARTFORM{
name="styleform"
action="view"
formcssclass="twikiFormSteps"
elementcssclass="twikiFormStep"
}%
%FORMELEMENT{
name="Name"
type="text"
title="Enter your name:"
}%
%FORMELEMENT{
type="submit"
buttonlabel="Submit"
}%
%ENDFORM%



---++ Custom CSS classes

%STARTFORM{
name="customcssform"
action="view"
}%
%FORMELEMENT{
name="Name"
type="text"
title="Enter your name:"
cssclass="twikiBroadcastMessage"
}%
%FORMELEMENT{
type="submit"
buttonlabel="Submit"
cssclass="twikiButton"
}%
%ENDFORM%



---++ Items on one line

Using =elementformat=" $t $e "=:

%STARTFORM{
name="onelineform"
action="view"
elementformat=" $t $e $m $h "
}%%FORMELEMENT{
name="Name"
type="text"
title="Enter your name:"
}%%FORMELEMENT{
type="submit"
buttonlabel="Submit"
}%
%ENDFORM%



---++ Multi-select items

%STARTFORM{
name="multiform"
action="view"
formcssclass="twikiFormSteps"
elementcssclass="twikiFormStep"
}%
%FORMELEMENT{
name="Nice_persons"
type="radio"
title="Nice persons with custom =titleformat=:"
options="mary=Mary M, peter=Peter P, annabel=Annabel A, nicky=Nicky N, jennifer=Jennifer J"
validate="nonempty"
fieldformat="$e <br />"
titleformat=" *$t* %BR%"
mandatory="on"
hint="Select one person"
}%
%FORMELEMENT{
name="Not_so_nice_persons"
type="checkbox"
title="Not-so-nice persons with selected defaults:"
options="mary, peter, annabel, nicky, jennifer"
labels="Mary M, Peter P, Annabel A, Nicky N, Jennifer J"
default="mary,peter"
validate="nonempty"
fieldformat="$e <br />"
mandatory="on"
hint="Select any person"
}%
%FORMELEMENT{
name="And_even_more_persons"
type="checkbox"
title="And even more persons without custom =fieldformat=:"
options="mary, peter, annabel, nicky, jennifer"
labels="Mary M, Peter P, Annabel A, Nicky N, Jennifer J"
validate="nonempty"
mandatory="on"
hint="Select any person"
}%
%FORMELEMENT{type="selectmulti" title="Multiselect is =selectmulti=:" name="subject" options="work,freetime,not important" labels="Work, Freetime, Not important" default="not important" size="3"}%
%ENDFORM%



---++ Disabled

%STARTFORM{
name="disabledform"
action="view"
}%
%FORMELEMENT{
name="Name"
type="text"
disabled="on"
title="Enter your name:"
default="%WIKIUSERNAME%"
}%
%FORMELEMENT{
name="ChecknameDisabled"
type="checkbox"
title="Choose a name:"
options="mary=Mary M, peter=Peter P, annabel=Annabel A, nicky=Nicky N, jennifer=Jennifer J"
fieldformat="$e<br />"
disabled="on"
default="peter"
}%
%FORMELEMENT{
type="submit"
buttonlabel="Submit"
disabled="on"
}%
%ENDFORM%



---++ Read-only

%STARTFORM{
name="readonlyform"
action="view"
}%
%FORMELEMENT{
name="Name"
type="text"
readonly="on"
title="Enter your name:"
default="%WIKIUSERNAME%"
}%
%FORMELEMENT{
name="ChecknameReadonly"
type="checkbox"
title="Choose a name:"
options="mary=Mary M, peter=Peter P, annabel=Annabel A, nicky=Nicky N, jennifer=Jennifer J"
fieldformat="$e<br />"
readonly="on"
default="peter"
}%
%FORMELEMENT{
type="submit"
buttonlabel="Submit"
readonly="on"
}%
%ENDFORM%



---++ Password

%STARTFORM{
name="passwordform"
action="view"
}%
%FORMELEMENT{
name="Password"
type="password"
title="Enter a password:"
mandatory="on"
}%
%ENDFORM%



---++ Validation

If the form is filled in correctly you will be redirected to %WEB%.%HOMETOPIC%.

%STARTFORM{
name="validationTestForm"
action="view"
topic="%WEB%.%HOMETOPIC%"
method="POST"
formcssclass="twikiFormSteps"
elementcssclass="twikiFormStep"
}%
%FORMELEMENT{
name="Name"
type="text"
title="Enter your name:"
default=""
mandatory="on"
hint="You cannot post anonymously"
}%
%FORMELEMENT{
name="Your salary"
type="text"
title="Your salary:"
default=""
mandatory="on"
validate="float"
hint="You may include decimal numbers"
}%
%FORMELEMENT{
name="Checkname"
type="checkbox"
title="Who earns more than you:"
options="mary=Mary M, peter=Peter P, annabel=Annabel A, nicky=Nicky N, jennifer=Jennifer J"
fieldformat="$e<br />"
mandatory="on"
validate="nonempty"
hint="Just point the finger"
}%
%FORMELEMENT{
type="submit"
default="Try me"
}%
%ENDFORM%



---++ Substitution of field references

Reference field values as variables. In hidden field 'CarbonCopy' we are creating a combined entry of =Name= and =Password= fields:
<verbatim>
%FORMELEMENT{
name="CarbonCopy"
type="hidden"
default="$Name earns $Salary"
}%
</verbatim>

#SubstitutionReferences
The !CarbonCopy form field: %URLPARAM{"CarbonCopy"}%

%STARTFORM{
name="substitutionform"
action="view"
anchor="SubstitutionReferences"
formcssclass="twikiFormSteps"
elementcssclass="twikiFormStep"
}%
%FORMELEMENT{
name="Name"
type="text"
title="Enter your name:"
mandatory="on"
}%
%FORMELEMENT{
name="Salary"
type="text"
title="Enter your salary:"
mandatory="on"
validate="float"
}%
%FORMELEMENT{
name="CarbonCopy"
type="hidden"
default="$Name earns $Salary"
}%
%FORMELEMENT{
type="submit"
buttonlabel="Submit"
}%
%ENDFORM%


---++ Upload

%STARTFORM{
name="uploadform"
action="upload"
topic="%WEB%.%TOPIC%"
method="POST"
validate="off"
}%
%FORMELEMENT{
type="upload"
name="filepath"
title="Attach new file"
size="70"
}%
%FORMELEMENT{
name="filecomment"
type="text"
title="Comment"
}%
%FORMELEMENT{
name="hidefile"
type="checkbox"
options="on=Do not show attachment in table"
}%
%FORMELEMENT{
name="createlink"
type="checkbox"
options="on=Create a link to the attached file"
}%
%FORMELEMENT{
type="submit"
buttonlabel="Upload file"
}%
%ENDFORM%



---++ !SendEmailPlugin form

E-mail form for SendEmailPlugin - form works if the plugin is installed and enabled.

%SENDEMAIL%

%STARTFORM{
name="mailForm"
action="%SCRIPTURL{sendemail}%/%WEB%/%TOPIC%"
method="POST"
}%
%FORMELEMENT{
name="To"
type="text"
title="To:"
validate="email"
mandatory="on"
default="arthur@visiblearea.com"
hint="Enter an e-mail address"
}%
%FORMELEMENT{
name="Subject"
type="text"
title="Subject:"
hint="(optional)"
}%
%FORMELEMENT{
name="body"
type="textarea"
title="Message:"
rows="5"
cols="80"
hint="(optional)"
}%
%FORMELEMENT{
type="submit"
default="Send"
}%
%ENDFORM%



---++ Accessing other sites: Flickr
This form lets you search for Flickr photos that have been tagged with a name.

%STARTFORM{
name="flickr"
action="http://www.flickr.com/photos/tags/$Name/$Netherlands"
method="POST"
}%
%FORMELEMENT{
name="Name"
title="Search name on Flickr:"
type="text"
default="Sander"
hint="Enter a first name, such as Sander, Johan or Annemieke"
}% %FORMELEMENT{
name="Netherlands"
type="checkbox"
options="clusters/netherlands-amsterdam-geotagged/"
labels="In the Netherlands"
default="clusters/netherlands-amsterdam-geotagged/"
hint="Shows pictures from the Netherlands only if these are geo-tagged"
}%
%FORMELEMENT{
type="submit"
buttonlabel="Show me photos!"
}%
%ENDFORM%


